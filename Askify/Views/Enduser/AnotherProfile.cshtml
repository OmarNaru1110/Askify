@model EndUserDetails
@{
    ViewData["Title"] = Model.EndUser.UserName;

    string buttonType = "btn-primary";
    if (ViewData["isFollowing"].ToString() == "Unfollow")
    {
        buttonType = "btn-danger";
    }
}

<style>
    /* Optional: Add some styling to make it visually appealing */
    .ask-question {
        background-color: #6B6B6B;
        color: white;
        width: 100%;
        height: 150px;
        padding: 10px;
        box-sizing: border-box;
        resize: none; /* Disable textarea resizing */
    }

        .ask-question::placeholder {
            color: #DCDCDC;
        }

    .char-counter {
        position: fixed;
        left:125px;
        color: white; /* Adjust the color as needed */
        font-size: 14px; /* Adjust the font size as needed */
    }

    .ask-form {
        position: relative;
    }


</style>

<partial name="Shared/_profileDetails" model="Model" />
<div style="display: flex; width: 100%;">
    <a asp-action="managefollow" asp-route-isFollowing="@ViewData["isFollowing"]" asp-route-endUserId="@Model.EndUser.Id" class="btn @buttonType" style="width: 100%;">
        @ViewData["isFollowing"]
    </a>
</div>
<br />
<div style="background-color:#6B6B6B">
    <form asp-controller="enduser" asp-action="AskQuestion" class="ask-form">
        <textarea required id="largeTextArea" name="text" class="ask-question" placeholder="Ask me anything!" maxlength="4000"></textarea>
        <br />
        <div class="char-counter">0/4000</div>
        <br />
        <div style="margin-left:7px; display:inline-block" class="form-check form-switch text-white">
            <input name="Anonymous" class="form-check-input" type="checkbox">
            <label class="form-check-label"> Anonymous </label>
        </div>
        <div style="display:inline-block; margin-left:1100px">
            <input class="btn btn-warning" type="submit" value="Ask" />
        </div>
        <br />
        <br />
    </form>
</div>



<script>
    // Add JavaScript to update character count
    const textArea = document.getElementById('largeTextArea');
    const charCounter = document.querySelector('.char-counter');

    textArea.addEventListener('input', function () {
        charCounter.textContent = `${textArea.value.length}/4000`;
    });
</script>